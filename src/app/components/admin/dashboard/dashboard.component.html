<div class="dashboard-container">
  <div class="container">
    <div class="dashboard-header">
      <h1>Admin Dashboard</h1>
      <p>Welcome back! Here's what's happening in your cafeteria today.</p>
    </div>

    <div *ngIf="loading" class="loading-state">
      <div class="spinner-large"></div>
      <p>Loading dashboard data...</p>
    </div>

    <div *ngIf="error" class="error-state">
      <p>{{ error }}</p>
      <button (click)="loadDashboardData()" class="btn btn-primary">Retry</button>
    </div>

    <div *ngIf="!loading && !error" class="dashboard-content">
      <!-- Stats Cards -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon orders-icon">📋</div>
          <div class="stat-content">
            <h3>{{ stats.totalOrders }}</h3>
            <p>Total Orders</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon pending-icon">⏳</div>
          <div class="stat-content">
            <h3>{{ stats.pendingOrders }}</h3>
            <p>Pending Orders</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon completed-icon">✅</div>
          <div class="stat-content">
            <h3>{{ stats.completedOrders }}</h3>
            <p>Completed Orders</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon revenue-icon">💰</div>
          <div class="stat-content">
            <h3>{{ formatCurrency(stats.totalRevenue) }}</h3>
            <p>Total Revenue</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon menu-icon">🍽️</div>
          <div class="stat-content">
            <h3>{{ stats.activeMenuItems }}</h3>
            <p>Active Menu Items</p>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="action-buttons">
          <a routerLink="/admin/menu" class="action-btn">
            <div class="action-icon">🍕</div>
            <span>Manage Menu</span>
          </a>
          <a routerLink="/admin/orders" class="action-btn">
            <div class="action-icon">📦</div>
            <span>View Orders</span>
          </a>
          <button class="action-btn" (click)="loadDashboardData()">
            <div class="action-icon">🔄</div>
            <span>Refresh Data</span>
          </button>
        </div>
      </div>

      <!-- Recent Orders -->
      <div class="recent-orders">
        <div class="section-header">
          <h2>Recent Orders</h2>
          <a routerLink="/admin/orders" class="view-all-link">View All Orders</a>
        </div>

        <div class="orders-list" *ngIf="recentOrders.length > 0">
          <div class="order-card" *ngFor="let order of recentOrders">
            <div class="order-header">
              <div class="order-info">
                <h4>Order #{{ order.id }}</h4>
                <p class="customer-name">{{ order.userName }}</p>
              </div>
              <span class="status-badge" [class]="getStatusClass(order.status)">
                {{ order.status }}
              </span>
            </div>
            <div class="order-details">
              <div class="order-items">
                <span class="item-count">{{ order.items.length }} items</span>
                <span class="order-total">{{ formatCurrency(order.totalAmount) }}</span>
              </div>
              <div class="order-time">
                {{ formatDate(order.orderDate) }}
              </div>
            </div>
          </div>
        </div>

        <div class="empty-state" *ngIf="recentOrders.length === 0">
          <div class="empty-icon">📋</div>
          <h3>No Recent Orders</h3>
          <p>Orders will appear here once customers start placing them.</p>
        </div>
      </div>
    </div>
  </div>
</div>